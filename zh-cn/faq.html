<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常见问题解答 | Storehouse Management 用户手册</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.1c295de8.js" as="script"><link rel="preload" href="/assets/js/2.13686704.js" as="script"><link rel="preload" href="/assets/js/16.285caf4e.js" as="script"><link rel="prefetch" href="/assets/js/10.47469a55.js"><link rel="prefetch" href="/assets/js/11.7705ae7c.js"><link rel="prefetch" href="/assets/js/12.7ab4d9bf.js"><link rel="prefetch" href="/assets/js/13.9b20dd64.js"><link rel="prefetch" href="/assets/js/14.0980de9d.js"><link rel="prefetch" href="/assets/js/15.ffcd32b9.js"><link rel="prefetch" href="/assets/js/17.f26c2956.js"><link rel="prefetch" href="/assets/js/18.9a818f03.js"><link rel="prefetch" href="/assets/js/19.485fbd65.js"><link rel="prefetch" href="/assets/js/20.d9b40507.js"><link rel="prefetch" href="/assets/js/21.6b070753.js"><link rel="prefetch" href="/assets/js/22.f8e14ff4.js"><link rel="prefetch" href="/assets/js/3.264be53c.js"><link rel="prefetch" href="/assets/js/4.dc321bd9.js"><link rel="prefetch" href="/assets/js/5.391be865.js"><link rel="prefetch" href="/assets/js/6.ad7e2c0f.js"><link rel="prefetch" href="/assets/js/7.4388c187.js"><link rel="prefetch" href="/assets/js/8.d54efa1c.js"><link rel="prefetch" href="/assets/js/9.66d8a23b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zh-cn/" class="home-link router-link-active"><!----> <span class="site-name">Storehouse Management 用户手册</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zh-cn/" class="nav-link">
  Storehouse Management
</a></div><div class="nav-item"><a href="/zh-cn/api/" class="nav-link">
  API
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  Home
</a></li><li class="dropdown-item"><!----> <a href="/zh-cn/faq.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/en-us/" class="nav-link">
  English
</a></li></ul></div></div> <a href="https://github.com/wms-community/storehouse-management-manual" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/zh-cn/" class="nav-link">
  Storehouse Management
</a></div><div class="nav-item"><a href="/zh-cn/api/" class="nav-link">
  API
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  Home
</a></li><li class="dropdown-item"><!----> <a href="/zh-cn/faq.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/en-us/" class="nav-link">
  English
</a></li></ul></div></div> <a href="https://github.com/wms-community/storehouse-management-manual" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/zh-cn/install.html" class="sidebar-link">安装指南</a></li><li><a href="/zh-cn/faq.html" aria-current="page" class="active sidebar-link">常见问题解答</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-cn/faq.html#配置文件-env-在哪" class="sidebar-link">配置文件 .env 在哪？</a></li><li class="sidebar-sub-header"><a href="/zh-cn/faq.html#目录下没有-install-这个文件夹啊-怎么访问" class="sidebar-link">目录下没有 install 这个文件夹啊，怎么访问？</a></li><li class="sidebar-sub-header"><a href="/zh-cn/faq.html#提示「根目录下没有-vendor-文件夹」" class="sidebar-link">提示「根目录下没有 vendor 文件夹」？</a></li><li class="sidebar-sub-header"><a href="/zh-cn/faq.html#出现-500-internal-server-error" class="sidebar-link">出现 500 Internal Server Error</a></li><li class="sidebar-sub-header"><a href="/zh-cn/faq.html#_404-not-found" class="sidebar-link">404 Not Found</a></li><li class="sidebar-sub-header"><a href="/zh-cn/faq.html#忘了密码怎么办" class="sidebar-link">忘了密码怎么办</a></li><li class="sidebar-sub-header"><a href="/zh-cn/faq.html#如何设置第二个超级管理员" class="sidebar-link">如何设置第二个超级管理员？</a></li><li class="sidebar-sub-header"><a href="/zh-cn/faq.html#mysql-错误码-2054" class="sidebar-link">MySQL 错误码：2054</a></li><li class="sidebar-sub-header"><a href="/zh-cn/faq.html#页面的样式失效" class="sidebar-link">页面的样式失效</a></li><li class="sidebar-sub-header"><a href="/zh-cn/faq.html#升级的时候出现-503-错误" class="sidebar-link">升级的时候出现 503 错误</a></li><li class="sidebar-sub-header"><a href="/zh-cn/faq.html#mysql-提示「specified-key-was-too-long-」" class="sidebar-link">MySQL 提示「Specified key was too long...」</a></li><li class="sidebar-sub-header"><a href="/zh-cn/faq.html#安装或升级时遇到「table-already-exists」" class="sidebar-link">安装或升级时遇到「Table * already exists」</a></li></ul></li><li><a href="/zh-cn/report.html" class="sidebar-link">报告问题的正确姿势</a></li><li><a href="/zh-cn/dir.html" class="sidebar-link">目录结构</a></li><li><a href="/zh-cn/env.html" class="sidebar-link">配置文件介绍</a></li><li><a href="/zh-cn/build.html" class="sidebar-link">手动构建</a></li><li><a href="/zh-cn/versions.html" class="sidebar-link">版本说明</a></li><li><a href="/zh-cn/upgrade-guide.html" class="sidebar-link">升级指南</a></li><li><a href="/zh-cn/change-log.html" class="sidebar-link">更新日志</a></li><li><a href="/zh-cn/update-sources.html" class="sidebar-link">更新源列表</a></li><li><a href="/zh-cn/cdn.html" class="sidebar-link">CDN 配置</a></li><li><a href="/zh-cn/ucenter.html" class="sidebar-link">UCenter集成</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="常见问题解答"><a href="#常见问题解答" class="header-anchor">#</a> 常见问题解答</h1> <p>提问之前请先看看您的问题是否在以下列表中：</p> <div class="custom-block tip"><p class="custom-block-title">提示：</p> <p>请善用浏览器的 <kbd>Ctrl</kbd> + <kbd>F</kbd> 页内查找功能。</p></div> <p></p><div class="table-of-contents"><ul><li><a href="#配置文件-env-在哪">配置文件 .env 在哪？</a></li><li><a href="#目录下没有-install-这个文件夹啊-怎么访问">目录下没有 install 这个文件夹啊，怎么访问？</a></li><li><a href="#提示「根目录下没有-vendor-文件夹」">提示「根目录下没有 vendor 文件夹」？</a></li><li><a href="#出现-500-internal-server-error">出现 500 Internal Server Error</a></li><li><a href="#_404-not-found">404 Not Found</a></li><li><a href="#忘了密码怎么办">忘了密码怎么办</a></li><li><a href="#如何设置第二个超级管理员">如何设置第二个超级管理员？</a></li><li><a href="#mysql-错误码-2054">MySQL 错误码：2054</a></li><li><a href="#页面的样式失效">页面的样式失效</a></li><li><a href="#升级的时候出现-503-错误">升级的时候出现 503 错误</a><ul><li><a href="#在-503-页面登录">在 503 页面登录</a></li><li><a href="#下载新版本覆盖">下载新版本覆盖</a></li><li><a href="#nginx">Nginx</a></li><li><a href="#apache">Apache</a></li></ul></li><li><a href="#mysql-提示「specified-key-was-too-long-」">MySQL 提示「Specified key was too long...」</a></li><li><a href="#安装或升级时遇到「table-already-exists」">安装或升级时遇到「Table * already exists」</a></li></ul></div><p></p> <h2 id="配置文件-env-在哪"><a href="#配置文件-env-在哪" class="header-anchor">#</a> 配置文件 <code>.env</code> 在哪？</h2> <p>请仔细阅读 <a href="/zh-cn/env.html">配置文件介绍</a></p> <h2 id="目录下没有-install-这个文件夹啊-怎么访问"><a href="#目录下没有-install-这个文件夹啊-怎么访问" class="header-anchor">#</a> 目录下没有 <code>install</code> 这个文件夹啊，怎么访问？</h2> <p>Storehouse Management 使用了 URL 重写来实现路由功能。</p> <p>一般来说，只要您按照 <a href="/zh-cn/install.html#配置-url-重写规则（伪静态）">安装指南</a> 正确配置了 URL 重写之后，您就能正常安装和使用 Storehouse Management。</p> <h2 id="提示「根目录下没有-vendor-文件夹」"><a href="#提示「根目录下没有-vendor-文件夹」" class="header-anchor">#</a> 提示「根目录下没有 <code>vendor</code> 文件夹」？</h2> <p>有两种解决方法：</p> <ol><li>给我认认真真地再看一遍 <a href="/zh-cn/install.html">安装指南</a></li> <li>下载最新版本覆盖</li></ol> <h2 id="出现-500-internal-server-error"><a href="#出现-500-internal-server-error" class="header-anchor">#</a> 出现 500 Internal Server Error</h2> <p>如果服务器报错 500，且页面上没有任何 玉桂库房管理系统 字样，请查看 <code>runtime/logs</code> 目录下是否有日志文件，如果没有，说明是您文件权限设置错误，请设置正确的文件权限。</p> <p>如果有，请编辑 <code>.env</code> 文件，添加 <code>APP_DEBUG = true</code>，保存退出后再次打开系统就能看到更详细的调试信息，读一读页面最顶上的报错应该就知道是什么问题了。</p> <div class="custom-block warning"><p class="custom-block-title">警告：</p> <p>解决报错后，请再次编辑 <code>.env</code> 文件，将 <code>APP_DEBUG</code> 这一项的值改为 <code>false</code>，否则可能泄露重要机密信息。</p></div> <h2 id="_404-not-found"><a href="#_404-not-found" class="header-anchor">#</a> 404 Not Found</h2> <p>如果您可以访问首页，其他页面都是 404，请检查您的 URL 重写（伪静态）规则 <strong>是否生效</strong>。</p> <p>如果所有页面（包括 <code>/index.php</code>）都是 404，请检查您自己的 Web 服务器配置。</p> <h2 id="忘了密码怎么办"><a href="#忘了密码怎么办" class="header-anchor">#</a> 忘了密码怎么办</h2> <ol><li>使用系统自带的「找回密码功能」</li> <li>使用一个「新密码」注册一个新用户，然后在数据库 <code>users</code> 表中用新注册用户的 <code>password</code> 字段内容替换掉您原来那个用户的 <code>password</code> 字段。替换完成后您就可以使用「新密码」登录您原来的账户了。</li></ol> <h2 id="如何设置第二个超级管理员"><a href="#如何设置第二个超级管理员" class="header-anchor">#</a> 如何设置第二个超级管理员？</h2> <p>去系统数据库 <code>user</code> 表那个用户记录的 <code>admin</code> 字段设置为 <code>1</code>。</p> <h2 id="mysql-错误码-2054"><a href="#mysql-错误码-2054" class="header-anchor">#</a> MySQL 错误码：2054</h2> <p>出错消息会像这样：无法连接至 MySQL/MariaDB 服务器，请检查您的配置。服务器返回的信息：SQLSTATE[HY000] [2054] The server requested authentication method unknown to the client</p> <p>MySQL 8 默认使用了新的密码验证插件：caching_sha2_password，而之前的 PHP 版本中所带的 mysqlnd 无法支持这种验证。</p> <p>解决方法：新建一个使用 mysql_native_password 方式的账户，并给予权限；或将现有账户验证方式改为 mysql_native_password 。</p> <h2 id="页面的样式失效"><a href="#页面的样式失效" class="header-anchor">#</a> 页面的样式失效</h2> <p>请检查您的浏览器地址栏中是否包含 <code>index.php</code>，如果有，请去掉。</p> <h2 id="升级的时候出现-503-错误"><a href="#升级的时候出现-503-错误" class="header-anchor">#</a> 升级的时候出现 503 错误</h2> <p>有两种解决方法：</p> <h3 id="在-503-页面登录"><a href="#在-503-页面登录" class="header-anchor">#</a> 在 503 页面登录</h3> <p>当出现 503 错误页面时，页面中会有一个「登录」按钮。点击打开登录页面然后像往常一样进行登录。</p> <p>在登录之后，如果刚才登录的是管理员账号，那么这个升级过程就可以继续进行。</p> <h3 id="下载新版本覆盖"><a href="#下载新版本覆盖" class="header-anchor">#</a> 下载新版本覆盖</h3> <p>下载新版本程序，解压覆盖到系统根目录即可。</p> <h3 id="nginx"><a href="#nginx" class="header-anchor">#</a> Nginx</h3> <p>修改 <code>/etc/nginx/mime.types</code> 文件，添加以下一行内容：</p> <div class="language- extra-class"><pre class="language-text"><code>application/wasm  wasm;
</code></pre></div><p>然后重新启动 Web Server。</p> <h3 id="apache"><a href="#apache" class="header-anchor">#</a> Apache</h3> <p>我们已经在 <code>.htaccess</code> 进行了配置，如果对您不起作用，可以考虑以下方法。</p> <p>一种方法是修改 <code>/etc/mime.types</code>，在这个文件中添加以下一行：</p> <div class="language- extra-class"><pre class="language-text"><code>application/wasm  wasm
</code></pre></div><p>还有一种方法是修改您的 Apache 配置文件，添加以下一行：</p> <div class="language- extra-class"><pre class="language-text"><code>AddType application/wasm .wasm
</code></pre></div><h2 id="mysql-提示「specified-key-was-too-long-」"><a href="#mysql-提示「specified-key-was-too-long-」" class="header-anchor">#</a> MySQL 提示「Specified key was too long...」</h2> <p>这往往发生在 Windows 系统上。</p> <p>最彻底的解决办法是使用 Linux 作为服务器的操作系统（但请不要使用宝塔之类的面板软件），这不仅能解决这个问题，还可以避免其它只会出现在 Windows 中的问题。</p> <p>临时的解决办法是修改 MySQL 的配置文件。打开 <code>my.ini</code> 文件，在 <code>[mysqld]</code> 下面加两行：</p> <div class="language-ini extra-class"><pre class="language-ini"><code><span class="token key attr-name">innodb_large_prefix</span><span class="token punctuation">=</span><span class="token value attr-value">ON</span>
<span class="token key attr-name">innodb_file_format</span><span class="token punctuation">=</span><span class="token value attr-value">Barracuda</span>
</code></pre></div><p>保存并重新启动 MySQL。</p> <h2 id="安装或升级时遇到「table-already-exists」"><a href="#安装或升级时遇到「table-already-exists」" class="header-anchor">#</a> 安装或升级时遇到「Table * already exists」</h2> <p>打开数据库，删除所报错的数据表即可。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/wms-community/storehouse-management-manual/edit/master/post/zh-cn/faq.md" target="_blank" rel="noopener noreferrer">帮助我们完善这个页面</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">最后更新:</span> <span class="time">2022/6/6 上午9:31:34</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh-cn/install.html" class="prev">
        安装指南
      </a></span> <span class="next"><a href="/zh-cn/report.html">
        报告问题的正确姿势
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1c295de8.js" defer></script><script src="/assets/js/2.13686704.js" defer></script><script src="/assets/js/16.285caf4e.js" defer></script>
  </body>
</html>
